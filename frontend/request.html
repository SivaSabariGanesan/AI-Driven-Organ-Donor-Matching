

<html>
  <head>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&amp;family=Lexend%3Awght%40400%3B500%3B700%3B900&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900"
    />

    <title>Stitch Design</title>
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />

    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  </head>
  <body>
    <script src="js/api.js"></script>
    <div
      class="relative flex size-full min-h-screen flex-col bg-white group/design-root overflow-x-hidden"
      style="--select-button-svg: url('data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2724px%27 height=%2724px%27 fill=%27rgb(136,99,100)%27 viewBox=%270 0 256 256%27%3e%3cpath d=%27M181.66,170.34a8,8,0,0,1,0,11.32l-48,48a8,8,0,0,1-11.32,0l-48-48a8,8,0,0,1,11.32-11.32L128,212.69l42.34-42.35A8,8,0,0,1,181.66,170.34Zm-96-84.68L128,43.31l42.34,42.35a8,8,0,0,0,11.32-11.32l-48-48a8,8,0,0,0-11.32,0l-48,48A8,8,0,0,0,85.66,85.66Z%27%3e%3c/path%3e%3c/svg%3e'); font-family: Lexend, &quot;Noto Sans&quot;, sans-serif;"
    >
      <div class="layout-container flex h-full grow flex-col">
        <header class="flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#f4f0f0] px-10 py-3">
          <div class="flex items-center gap-4 text-[#181111]">
            <div class="size-4">
              <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M4 42.4379C4 42.4379 14.0962 36.0744 24 41.1692C35.0664 46.8624 44 42.2078 44 42.2078L44 7.01134C44 7.01134 35.068 11.6577 24.0031 5.96913C14.0971 0.876274 4 7.27094 4 7.27094L4 42.4379Z"
                  fill="currentColor"
                ></path>
              </svg>
            </div>
            <h2 class="text-[#181111] text-lg font-bold leading-tight tracking-[-0.015em]">OrganMatch</h2>
          </div>
          <div class="flex flex-1 justify-end gap-8">
            <div class="flex items-center gap-9">
              <a class="text-[#181111] text-sm font-medium leading-normal" href="#">Find a Donor</a>
              <a class="text-[#181111] text-sm font-medium leading-normal" href="#">Become a Donor</a>
              <a class="text-[#181111] text-sm font-medium leading-normal" href="my-requests.html">My Requests</a>
            </div>
            <button id="logoutBtn" class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 px-4 bg-white border border-[#e92932] text-[#e92932] text-sm font-bold leading-normal tracking-[0.015em]">Logout</button>
          </div>
        </header>
        <div class="px-40 flex flex-1 justify-center py-5">
          <div class="layout-content-container flex flex-col w-[512px] max-w-[512px] py-5 max-w-[960px] flex-1">
            <div class="flex flex-wrap justify-between gap-3 p-4">
              <p class="text-[#181111] tracking-light text-[32px] font-bold leading-tight min-w-72">Urgent Organ Request</p>
            </div>
            <div class="flex max-w-[480px] flex-wrap items-end gap-4 px-4 py-3">
              <label class="flex flex-col min-w-40 flex-1">
                <p class="text-[#181111] text-base font-medium leading-normal pb-2">Requested Organ</p>
                <input id="req_type" placeholder="e.g., Kidney, Liver" class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#181111] focus:outline-0 focus:ring-0 border-none bg-[#f4f0f0] focus:border-none h-14 placeholder:text-[#886364] p-4 text-base font-normal leading-normal" value=""/>
              </label>
            </div>
            <div class="flex max-w-[480px] flex-wrap items-end gap-4 px-4 py-3">
              <label class="flex flex-col min-w-40 flex-1">
                <p class="text-[#181111] text-base font-medium leading-normal pb-2">Blood Group</p>
                <input id="req_blood" placeholder="e.g., O+, A-" class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#181111] focus:outline-0 focus:ring-0 border-none bg-[#f4f0f0] focus:border-none h-14 placeholder:text-[#886364] p-4 text-base font-normal leading-normal" value=""/>
              </label>
            </div>
            
            
            <div class="flex max-w-[480px] flex-wrap items-end gap-4 px-4 py-3">
              <label class="flex flex-col min-w-40 flex-1">
                <p class="text-[#181111] text-base font-medium leading-normal pb-2">Hospital Name</p>
                <input
                  placeholder="Enter hospital name"
                  class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#181111] focus:outline-0 focus:ring-0 border-none bg-[#f4f0f0] focus:border-none h-14 placeholder:text-[#886364] p-4 text-base font-normal leading-normal"
                  value=""
                />
              </label>
            </div>
            <div class="flex max-w-[480px] flex-wrap items-end gap-4 px-4 py-3">
              <label class="flex flex-col min-w-40 flex-1">
                <p class="text-[#181111] text-base font-medium leading-normal pb-2">Hospital Location</p>
                <input
                  placeholder="Enter hospital location"
                  class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#181111] focus:outline-0 focus:ring-0 border-none bg-[#f4f0f0] focus:border-none h-14 placeholder:text-[#886364] p-4 text-base font-normal leading-normal"
                  value=""
                />
              </label>
            </div>
            <div class="@container">
              <div class="relative flex w-full flex-col items-start justify-between gap-3 p-4 @[480px]:flex-row @[480px]:items-center">
                <div class="flex w-full shrink-[3] items-center justify-between">
                  <p class="text-[#181111] text-base font-medium leading-normal">Emergency Level</p>
                  <p class="text-[#181111] text-sm font-normal leading-normal @[480px]:hidden">High</p>
                </div>
                <div class="flex h-4 w-full items-center gap-4">
                  <div class="flex h-1 flex-1 rounded-sm bg-[#e5dcdc]">
                    <div class="h-full w-[32%] rounded-sm bg-[#181111]"></div>
                    <div class="relative"><div class="absolute -left-2 -top-1.5 size-4 rounded-full bg-[#181111]"></div></div>
                  </div>
                  <p class="text-[#181111] text-sm font-normal leading-normal hidden @[480px]:block">High</p>
                </div>
              </div>
            </div>
            <div class="flex max-w-[480px] flex-wrap items-end gap-4 px-4 py-3">
              <label class="flex flex-col min-w-40 flex-1">
                <p class="text-[#181111] text-base font-medium leading-normal pb-2">Doctor's Certificate (Optional)</p>
                <input
                  placeholder="Upload file"
                  class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#181111] focus:outline-0 focus:ring-0 border-none bg-[#f4f0f0] focus:border-none h-14 placeholder:text-[#886364] p-4 text-base font-normal leading-normal"
                  value=""
                />
              </label>
            </div>
            <div class="flex px-4 py-3">
              <button id="submitRequest" class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 px-4 flex-1 bg-[#e92932] text-white text-sm font-bold leading-normal tracking-[0.015em]">
                <span class="truncate">Submit Request</span>
              </button>
            </div>
          </div>
        </div>
      </div>
      <script>
        API.requireAuth('login.html');
        document.getElementById('submitRequest').addEventListener('click', async () => {
          const requestedType = document.getElementById('req_type').value.trim();
          const requestedBloodGroup = document.getElementById('req_blood').value.trim();
          const notes = 'Requested via UI';
          if (!requestedType || !requestedBloodGroup) { alert('Please enter organ and blood group'); return; }
          try {
            const req = await API.apiFetch('/api/requests', { method: 'POST', headers: { ...API.authHeader() }, body: JSON.stringify({ requestedType, requestedBloodGroup, notes }) });
            alert('Request submitted: ' + req._id);
            window.location.href = 'my-requests.html';
          } catch (e) { alert(e.message); }
        });
      </script>
    </div>
  </body>
  <script>
    API.requireAuth('login.html');
    const logoutBtn = document.getElementById('logoutBtn');
    if (logoutBtn) logoutBtn.addEventListener('click', () => { API.clearToken(); window.location.href='login.html';});
  </script>
</html>

